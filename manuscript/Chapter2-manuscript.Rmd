---
title: "Hunting experience shapes individual foraging specialization and predator-prey interactions in an online videogame"
output: 
  word_document:
    reference_docx: Chapter2-styles.docx
    fig_caption: yes
bibliography: references.bib
csl: ecology.csl
---

```{r setup, include = FALSE}

knitr::opts_chunk$set(echo = FALSE, warning = FALSE, message = FALSE)

library(data.table)
library(brms)
library(flextable)
library(officer)
library(dplyr)

```

```{r}

path <- file.path(here::here(), "data")

dat <- fread(
  file.path(path, "FraserFrancoetal2023-data.csv"),
  select = c("timestamp", "match_id", "realm_id",
             "environment_id", "avatar_id", "predator_id",
             "game_duration", "total_xp_pred", "cumul_xp_pred",
             "hunting_success", "pred_speed", "prey_avg_speed"))

dat[, c(2:6) := lapply(.SD, function(x) as.factor(x)), .SDcols = c(2:6)]

# To have a date column
dat[, date := as.POSIXct(sub(" .*", "", timestamp))]

```

Journal name : Ecology

Manuscript type : article

Authors : Maxime Fraser Franco^1^, Francesca Santostefano^1,2^, Julien G. A. Martin^3^, Clint D. Kelly^1^, Pierre-Olivier Montiglio^1^ 

Affiliations : ^1^ Département des Sciences Biologiques, Université du Québec à Montréal, Montréal, QC, Canada. ^2^ Centre for Ecology and Conservation, Penryn Campus, University of Exeter, Cornwall, United Kingdom. ^3^ Department of Biology, University of Ottawa, Ottawa, ON, Canada. 

Corresponding author : fraser_franco.maxime@courrier.uqam.ca 

Authorship statement : With MFF as the leader, all authors participated in conceiving the ideas behind the study. MFF prepared the data, conducted the analyses, and wrote the manuscript with input from all coauthors. All authors reviewed and accepted the final version of the manuscript.

Open research statement : The data and code used to produce the results in this manuscript are freely available on GitHub https://github.com/quantitative-ecologist/experience-hunting-tactics

Keywords: foraging behaviour, reciprocal behavioural plasticity, learning, antipredator behaviour, virtual ecology, Dead by Daylight




\newpage
# ABSTRACT {.unnumbered}

Many predator-prey systems are driven by reciprocal interactions where one responds to changes in the behaviour of the other. However, the mechanisms driving these individual responses are only beginning to be explored, in part because of the challenges associated with monitoring direct predator-prey interactions. In this study, we used a virtual predator-prey system (the online game *Dead by Daylight*) to investigate if and how hunting experience shapes individual foraging specialization and success in predators across repeated interactions with their prey. 

*à modifier pour parler plutôt de l'interaction qui devient fine tuned (i.e. predators and prey)*
We found that with increasing experience, predators fine-tuned their tactics to the behaviour of their prey. Individuals that adopted a flexible tactic (i.e. generalists) encountered groups of prey with varying speeds, and those that adopted a cursorial and specialized tactic (i.e. specialists) encountered groups of prey with similar speeds throughout the study period. 

Our results suggest that experience enables predators to learn how to optimize their tactics to the type of prey that they encounter (i.e. fast or slow), which may act as a stabilizing mechanism promoting behavioural diversification in predator-prey systems.




\newpage
# INTRODUCTION {.unnumbered}

Individual variation in predator foraging behaviour is increasingly recognized as a major driver of trophic interactions and community dynamics [@Griffen.etal2012;@Michalko.Pekar2016;@Moran.etal2017;@Michalko.etal2021]. Indeed, predator populations often comprise assemblages of individuals specializing on different foraging tactics, with consequences for habitat use, functional responses, prey choice, and foraging rate [@Kobler.etal2009;@toscanoTraitmediatedFunctionalResponses2014;@Patrick.Weimerskirch2014;@Matsumura.Miyatake2022a]. Despite clear evidence that individual specialization is important in predator-prey interactions, its underlying mechanisms remain surprisingly unclear. One hypothesis suggests that reciprocal interactions between predators and prey could drive individual foraging specialization [@Araujo.etal2011;@toscanoPersonalityForagingBehavior2016;@DeLisle.etal2022]. For instance, predators often hunt using techniques that are fine-tuned to the type of prey that they encounter [@Estes.etal2003;@Woo.etal2008;@Courbin.etal2018], and their refinement is crucial for young predators to reach adulthood and survive [@Phillips.etal2017;@Heithaus.etal2018]. Thus, the capacity of predators to effectively use hunting tactics should be contingent on periods of extensive practice (i.e. experience), which may result in different foraging specializations.  

Theory predicts that foraging specialization may emerge via learning and expertise acquisition [@Tinker.etal2009;@Dukas2019]. @Dukas2019 defines expertise as the characteristics, skills, and knowledge that allow individuals with extensive experience to outperform novices on complex tasks. It is described as the relationship between success and experience, where extensive practice optimizes success when individuals reach an advanced level of experience. Empirical studies on human and non-human hunters show that experience optimizes foraging efficiency (e.g. search and handling times, return rates) potentially via associative images or reliance on prey and environmental cues [@Edwards.Jackson1994;@Morse2000;@MacDonald2007;@Reid.etal2010;@Wilson-Rankin2015]. This body of work suggests that such optimization may thus promote individual foraging specialization (e.g. repeatedly using fast attacks) if the success of a tactic is constant through time. It may also be costly to test different tactics by trial and error when prey are scarce or unpredictable. Alternatively, the costs/risks faced by hunters when switching tactics may be offset through extensive practice, as individuals gain experience and information on their prey, leading to increased individual foraging flexibility [@Stephens1993;@Ishii.Shimada2010;@Mery.Burns2010;@Kelley.Magurran2011;@Snell-Rood2013]. To develop proper responses to fluctuating resources, individuals would need to sample their environment broadly during an extensive period, leading to greater performance at later stages of development [reviewed in @Snell-Rood2013]. However, predators can differ in the challenges that they face during their lifetime, which could result in both processes (i.e. specialization and flexibility) operating at the same time within a predator population. For example, some individuals may hunt in habitats where prey are faster, which are often proven to be more difficult to hunt [@Walker.etal2005;@Kelley.Magurran2011;@Martin.etal2022]. Thus, it should be essential for predators to learn how to adjust their tactic to their prey to optimize their success.

There is currently a lack of consensus on the fitness advantages of specialized vs flexible foraging strategies [@Phillips.etal2017]. This is reflected in the literature showing contrasting results in the links between specialization and fitness at the individual level. Some studies have found greater success for individuals that use specialized foraging tactics [@Pintor.etal2014;@Patrick.Weimerskirch2014a;@vandenBosch.etal2019] while others found that individuals using flexible foraging tactics have greater success [@Paull.etal2012;@Santoro.etal2019;@Manlick.etal2021]. This disrepancy may in part be due to the limited information we have on the ecological contexts favoring individual specialization over flexibility. However, many studies have found that both type of foragers can also attain equal success depending on timescales, and suggest that fluctuating resources throughout a predator's lifetime may be key in shaping individual foraging specialization [@Weimerskirch2007;@Woo.etal2008;@Potier.etal2015;@Phillips.etal2017;@Courbin.etal2018]. It is hypothesized that when resources are predictable (or stable), individual specialists should have higher capture rates by reducing the energy and time required to search for and handle prey. In contrast, individual generalists should benefit from adjusting to fluctuating resources by reducing the consequences of uncertainty [@dall2010]. While it is clear that predators can match their hunting behaviour and locomotion to their prey [@McGhee.etal2013a;@Bro-Jorgensen2013;@Chang.etal2017;@Szopa-Comley.Ioannou2022], the important question remaining is how? Given the dynamic nature of predator-prey interactions, it is unlikely that evolution alone could explain such behavioural adjustments by predators, because complex hunting strategies require practice to be effective [@Kelley.Magurran2011]. Thus, uncovering the role of learning during direct predator-prey interactions would help to predict the behavioural decisions and the success of predators when they are hunting.

A recurring challenge impeding research on predator-prey behavioural interactions, at the individual level, is the need to collect data simultaneously on both the predator and the prey. We recently showed, using an online predator-prey videogame called *Dead by Daylight* (*DBD*), that virtual systems can overcome this challenge [@FraserFranco.etal2022]. In this dynamic virtual system, four prey players need to forage for resources while avoiding predation by a fifth player. The prey can contribute to the group's success by healing or helping others escape from the predator, or be selfish and attempt to escape by themselves [@Cere.etal2021]. The predators' hunting tactics and success are driven by the movement of the prey [@FraserFranco.etal2022]. Predators should thus benefit from learning how the prey behave to be successful. Other virtual predator-prey studies show that predation regimes drive individual variation in risk perception [@Beauchamp2020], that familiarity between prey has a positive indirect effect on survival [@Cere.etal2021], and that prey face contrasting natural and social selection regimes (Santostefano et al. in prep). These examples outline how virtual systems could be useful in identifying general ecological patterns, which in turn might help to advance predator-prey research. They also generate large volumes of data on interacting players throughout their lifetime in the game under realistic, controlled, and repeatable ecological scenarios. Hence, virtual systems, including *DBD*, offer the opportunity to tackle fundamental questions about the role of experience on predator-prey interactions. 

In this study, we evaluated how hunting experience shapes predator foraging specialization and success using data from players in the online videogame *Dead by Daylight*. First, we investigate how predators develop their individual hunting expertise. We hypothesize that predators should differ in the development of their expertise if they encountered varying levels of difficulty with the prey that they pursued. For example, a predator may face greater difficulty than other individuals if it encountered elusive groups of prey more often. Second, we test the hypothesis that experience will shape individual foraging specialization. We define foraging tactics as the mean movement speed of the predator along a slow-fast continuum, and the level of individual foraging specialization as the intra-individual variance (i.e. IIV) in movement speed across matches, where low IIV translates to individual specialization (e.g. always using a fast tactic). If experience reduces the costs of switching between low and high speeds as predators encounter varying groups of prey, we predict that individuals (and thus the population) should all converge towards flexible speeds. If experience increases a tactic's efficiency for specific types of prey assuming that all individuals encounter similar groups of prey, then they may instead specialize in their speed. In both scenarios, among individual variation in IIV (i.e. individual differences in specialization) should be low across experience because everyone is either a flexible or a specialist forager, but the population variance would either increase (flexibility) or decrease (specialization). Alternatively, both processes may operate at the same time if behavioural interactions with the prey vary among predators, such that among individual variation in IIV should increase. In this case, we expect predators that experienced more predictable encounters with their prey (i.e. similar groups across matches) to specialize in their speed, while predators that experienced unpredictable encounters with their prey (i.e. heterogeneous groups across matches) should adopt flexible movement speeds. If we detect such prey-dependent fine-tuning, then all hunters along the flexible-specialist continuum should attain equal success probably because they learned from experience how to adjust their hunting style to their prey.




# MATERIALS AND METHODS {.unnumbered}


## Study system

*DBD* is a survival asymmetric multiplayer online game (i.e. a game where the gameplay mechanics differ between two groups) developed by Behaviour Interactive Inc, in which players can play either as a predator or a prey. Every match includes only one predator and four prey. The objective of the predator is to hunt and capture the prey, and the objective of the prey is to search for resources while avoiding the predator. The resources are in the form of power generators that, once all activated, will enable the prey to escape through one of two exit doors. The composition of the predator and prey group in a match is determined by a skill-based matchmaking algorithm. A match ends when the predator kills all the prey available (i.e. that have not escaped), or when the last remaining prey escapes the virtual environment. Each player, predator or prey, can choose an avatar with abilities that encourage specific play styles (e.g. bold vs cautious prey, or ambush vs roaming predator). During our study period, the game offered `r toString(format(length(unique(dat$avatar_id))))` predator avatars. The virtual environments are composed of fixed and procedurally generated habitat components, such as vegetation, mazes, and buildings. Some of these environments are larger than others, with varying structural complexity. However, predators display only minimal changes in behaviour and hunting success across the environments, probably due to a game feature enabling them to have visual cues of the generators [@FraserFranco.etal2022]. There were `r toString(format(length(unique(dat$environment_id))))` virtual game environments available for play during the study period.


## Data collection

The videogame company provided data that spanned a period of 6 months of gameplay recorded for every player from `r toString(format(min(dat$date)))` to `r toString(format(max(dat$date)))`. We only analyzed matches where players did not know each other (i.e. "Online" mode). We filtered any matches where players were inactive, such as when average distances traveled per second (i.e. speed) were equal to, or very close to, zero. Moreover, we used our knowledge of the game to remove any matches where players were potentially hacking, or not playing the game as intended. We then sampled players that played 300 matches or more, and monitored all their matches from the first to a maximum of 500 matches.

Our population consists of `r toString(format(length(unique(dat$predator_id))))` predator players with a total record of `r toString(formatC(length(unique(dat$match_id)), big.mark = " "))` matches. The predator-players' experience varied between `r toString(format(min(dat$total_xp_pred)))` and `r toString(format(max(dat$total_xp_pred)))` matches played. These matches lasted between `r toString(format(round(min(dat$game_duration / 60))), digits = 2)` and `r toString(format(round(max(dat$game_duration / 60))), digits = 2)` min (mean = `r toString(format(round(mean(dat$game_duration / 60))), digits = 2)` min). The following information is collected and reported for every match : the player's anonymous ID, its avatar (i.e. the predator character chosen with its specific skill-gameplay mechanics), the game environment, the predator-player's experience along with its speed, and the average speed of the group of prey it encountered.

We analyzed the predator's average speed and the average speed of the prey group encountered by the predator. The predator's average speed is measured as the average distance traveled per second during a match (mean= `r toString(format(round(mean(dat$pred_speed), digits = 2), nsmall = 2))` ± `r toString(format(round(sd(dat$pred_speed), digits = 2), nsmall = 2))` m/s). We measured the preys' average speed as the average travel speed of the four individual prey within a match (mean = `r toString(format(round(mean(dat$prey_avg_speed, na.rm = T), digits = 2), nsmall = 2))` ± `r toString(format(round(sd(dat$prey_avg_speed, na.rm = T), digits = 2), nsmall = 2))` m/s). We defined hunting success as the number of prey consumed during the match (min = `r toString(format(min(dat$hunting_success)))`, max = `r toString(format(max(dat$hunting_success)))`). Lastly, we defined the predator's cumulative experience as the number of matches played prior to the match being monitored. For example, the first match of a player would have a cumulative experience value of 0, while the tenth match would have a value of 9. We also categorized predators for each match based on their cumulated experience. We labeled predators as novices for matches where they had cumulated less than 100 matches, intermediate for matches where they had cumulated between 100 and 299 matches, and advanced for matches where they had cumulated more than 299 matches (max 499). Since our goal was to monitor predator players throughout their experience and that they all played at least 300 matches, they all appeared in each of the three experience categories.

We recognize that we could have biased our analyses by retaining only individuals who played for at least 300 matches. For example, these individuals might be experienced videogame players and could thus already be playing like experts in their first matches in *DBD*. To verify that our sample was not biased, we compared a random sample of players that played either 20 to 50 matches, 51 to 100 matches, or 101 to 300 matches during the same timeframe as our sampled population. We then took the first 20 matches played by these players, including those from our sampled population, and compared their average speed using a Bayesian hierarchical linear model. We found that all four groups had similar average speeds as predators (Appendix 2: Table S1-S2), which indicates an absence of bias due to data sampling.


## Statistical analyses 

### Software and computer specifications

All models were fitted under a Bayesian framework in R (version 4.1.2) using Markov chain Monte Carlo (MCMC) sampling with the package "brms" version 2.16.3 [@Burkner2017], an R front-end for the STAN software [@StanDevelopmentTeam2023], and "cmdstanr" version 0.4.0 [@Gabry.Cesnovar2021] as the back-end for estimation (cmdstan installation version 2.28.2). The models were compiled on Cedar, a computer cluster maintained by the Digital Research Alliance of Canada (https://docs.alliancecan.ca/wiki/Cedar). The operating system for Cedar is CentOS Linux 7, and each model required 64GB of RAM with 48 cores to compile within $\le$5 days.

### Effect of experience on hunting success

We tested how prey influenced the development of predator expertise by computing five Bayesian generalized additive mixed models (GAMM) with thin-plate regression splines, all of which estimated the relationship between hunting success (i.e. number of prey consumed) and the predators' cumulative experience (i.e. number of matches played before the current match). We parameterized the models following the method of @Pedersen.etal2019. The first model was the simplest, with a common global smoothing function and random intercepts for the predator ID. In this model, we assume that predators have the same development of expertise, with the model estimating a trend for the average individual (i.e. global smoother). For the second model, we included varying individual smoothers for the predator ID. Here, we assume that individual predators share a similar relationship between success and experience, but that this relationship can vary among them (e.g. predator 1 has a steeper curve than predator 2). This enabled us to test whether predators differed in the development of their expertise. In the third model, we kept the individual smoothers for the predators, but removed the global smoother. This model assumes that predators do not share a common relationship between success and experience. The fourth and fifth models were a reproduction of the second and third models respectively, where we included the prey group's average speed to assess its effect on the relationship between success and experience. We included the standardized match duration and average prey rank (a proxy for prey skill) as covariates in all five models. The ranking system in *DBD* was implemented by the company to pair players in a match based on their skill (https://deadbydaylight.fandom.com/wiki/Rank), and failing to account for it would prevent us from detecting a change in the predator's foraging success with experience.

We computed the five models using a modified version of the beta-binomial distribution implemented in "brms". Hunting success was estimated as the probability of consuming the four prey ($\mu_i$), drawn from a Beta distribution ($Beta(\mu_i, \phi)$) with mean ($\mu \in [0,1]$) and precision ($\phi > 0$) parameters. We used a logit link function to estimate $\mu_i$ where $\mu_i = \frac{exp(\eta_i)}{exp(\eta_i) + 1}$ and $\eta_i$ is the linear predictor, while the precision parameter ($\phi$) was estimated with an identity link. We used the default number of basis functions (K) in "brms" for the models to estimate the relationship between hunting success and experience. We assumed that the random intercepts for the predator ID ($id$) followed a Gaussian distribution with estimated standard deviation ($id \sim N(0,\ I\ \sigma_{id})$). We used weakly informative Gaussian priors for the intercept ($N(0,\ 0.5)$) and the global trend of cumulative experience ($N(0,\ 2)$). Following @FraserFranco.etal2022, we defined a positive Gaussian prior on the precision parameter ($N(2,\ 0.5)$), a positive Gaussian prior ($N(1,\ 0.5)$) on the game duration because longer trials lead to greater success, and a negative Gaussian prior on prey speed ($N(-1,\ 0.5)$) because encountering faster prey is associated with lower success in this system. We employed weakly informative half-Gaussian priors on all the standard deviation parameters ($N(0, 0.5)$). We compared the models' predictive accuracies using approximate leave-one-out cross-validation with Pareto-smoothed importance sampling [@Vehtari.etal2017;@Piironen.Vehtari2017;@Vehtari.etal2022].

### Changes in foraging behaviour and predator-prey interactions with experience

We tested whether foraging behaviour changed with experience, and compared the success of predators along the flexible-specialist hunter continuum, using a multivariate double-hierarchical generalized linear model (MDHGLM) [@Lee.Nelder2006;@Cleasby.etal2015;@Mitchell.etal2016a]. We fitted the model on the predator's speed ($Y_{1}$), the prey's speed ($Y_{2}$), and the predator's hunting success ($Y_{3}$), using a Gaussian distribution family for the predator and the prey's speed, and a beta-binomial distribution family for the predator's success.

The model simultaneously estimated three distinct components for each experience level and each trait. The first component is among individual variation in mean speed and success (the mean part of the model), allowing to test for individual differences in tactic use (i.e. along the slow-fast continuum), in the mean speed of the prey encountered, and in mean prey consumption. The second component is among individual variation in intra-individual behavioural variation (IIV) (the dispersion part of the model), allowing us to test for individual differences in foraging specialization and in how (dis)similar were the groups of prey encountered (i.e. if resource heterogeneity was higher for some individuals compared to others). The third component consists of pairwise comparisons between the individual identity random effect standard deviations on the mean and dispersion part of the model within/across traits within experience levels, and within/across traits across experience levels, resulting in a 15x15 (co)variance matrix. This allows us to assess whether predators that are on average slower/faster are more specialized or flexible, whether predators that adopted a slower/faster (or more specialized/flexible) tactic encountered prey that were faster/slower, and whether slower/faster predators had lower/greater hunting success.

We controlled for the standardized average rank of the prey group for both the predator and the prey's speed on both the mean and the dispersion parts of the model. We included game environment and predator avatar random effects on the mean part of the model exclusively that were trait and experience specific (i.e. no covariance structure). We included individual predator identity random effects on the mean and dispersion parts. For hunting success, we modeled the mean part only and controlled for the standardized mean prey rank and game duration, and included an individual identity random effect.

The model can be written as:

```{r model_equations, ft.align = "left"}

# Prepare equations
#eqs <- c(
#  "Y_{1}(T_{j}) = X_{1}(T_{j})\\ b_{1}(T_{j}) + M_{1}(T_{j})\\ en_{1}(T_{j}) + N_{1}(T_{j})\\ av_{1}(T_{j}) + Z_{1}(T_{j})\\ #id_{1}(T_{j}) + e_{1}(T_{j})",
#  "log(\\sigma_{e_{Y_{1}(T_{j})}}) = X_{d1}(T_{j})\\ b_{d1}(T_{j}) + Z_{d1}(T_{j})\\ id_{d1}(T_{j})",
#  "Y_{2}(T_{j}) = X_{2}(T_{j})\\ b_{2}(T_{j}) + M_{2}(T_{j})\\ en_{2}(T_{j}) + N_{2}(T_{j})\\ av_{2}(T_{j}) + Z_{2}(T_{j})\\ #id_{2}(T_{j}) + e_{2}(T_{j})",
#  "log(\\sigma_{e_{Y_{2}(T_{j})}}) = X_{d2}(T_{j})\\ b_{d2}(T_{j}) + Z_{d2}(T_{j})\\ id_{d2}(T_{j})",
#  "Y_{3}(T_{j}) = X_{3}(T_{j})\\ b_{3}(T_{j}) + Z_{3}(T_{j})\\ id_{3}(T_{j}) + e_{3}(T_{j})"
#)

eqs <- c(
  "Y_{1}(T_{j}) = T^2_{j}(X_{1}\\ b_{1}) + T^2_{j}(M_{1}\\ en_{1}) + T^2_{j}(N_{1}\\ av_{1}) + T^2_{j}(Z_{1}\\ id_{1}) + e_{1}(T_{j})",
  "log(\\sigma_{e_{Y_{1}(T_{j})}}) = T^2_{j}(X_{d1}\\ b_{d1}) + T^2_{j}(Z_{d1}\\ id_{d1})",
  "Y_{2}(T_{j}) = T^2_{j}(X_{2}\\ b_{2}) + T^2_{j}(M_{2}\\ en_{2}) + T^2_{j}(N_{2}\\ av_{2}) + T^2_{j}(Z_{2}\\ id_{2}) + e_{2}(T_{j})",
  "log(\\sigma_{e_{Y_{2}(T_{j})}}) = T^2_{j}(X_{d2}\\ b_{d2}) + T^2_{j}(Z_{d2}\\ id_{d2})",
  "Y_{3}(T_{j}) = T^2_{j}(X_{3}\\ b_{3}) + T^2_{j}(Z_{3}\\ id_{3}) + e_{3}(T_{j})"
)

eqs_num <- c(
    "(1.1)",
    "(1.2)",
    "(2.1)",
    "(2.2)",
    "(3)"
)

# Combine into a dataframe
df <- data.frame(
    formula = eqs,
    number = eqs_num
)

# Create a table to display on Word
ft <- flextable(df)

# Transform values as a mathematical formula
ft <- compose(
  x = ft, j = 1,
  value = as_paragraph(
    as_equation(formula, height = .5)
  )
)

# Customize table
my_theme <- function(x, ...) {
  x <- colformat_double(x, big.mark = " ",
                        decimal.mark = ".",
                        digits = 2)
  x <- border_remove(x)
  x <- delete_part(x, part = "header")
  x <- align(x, j = 1, align = "left", part = "body")
  x <- align(x, j = 2, align = "right", part = "body")
  x <- font(x, fontname = "Times New Roman", part = "body")
  x <- fontsize(x, size = 12, part = "body")
  x <- width(x, j = 1, width = 15.25, unit = "cm")
  x <- width(x, j = 2, width = 1.26, unit = "cm")
}

# Apply theme and print
ft <- my_theme(x = ft)
ft

```

where $j$ is the index of the experience levels. The model is fitted on $n$ experience levels ($n = 3$) denoted by $T_{j}$, where $j$ ranges from 1 to $n$, being the novice, intermediate, and advanced levels. The $b$ terms are vectors of fixed effects with their design matrices $X$. The terms $en$, $av$, and $id$ are the vectors of random environment, random avatar, and random individual identity effects associated with their design matrices $M$, $N$, and $Z$. The $d$ subscript indicates that a term is from the dispersion part of the model. On the mean part for all traits and experience levels, we assumed that the game environment and avatar random effects followed a Gaussian distribution with estimated standard deviation ($en \sim N(0,\ I\ \sigma_{en})$ and $av \sim N(0,\ I\ \sigma_{av})$). $I$ is the identity matrix, with $I\sigma$ indicating that the random effects are independently and identically distributed. The individual identity random effects on both the mean and dispersion parts across all response variables and experience levels are indexed in vector $u$. The individual identity random effects contained in vector $u$ follow a multivariate Gaussian distribution $u \sim MVN(0,\ \Sigma)$ where $\Sigma$ is a 15x15 (co)variance matrix of the individual identity standard deviations $\sigma_{id_i}$ across all experience levels and response variables.

We used weakly informative Gaussian priors for the prey rank ($N(0,\ 1)$: eqn. 1.1 to 2.2) and game duration ($N(0.5,\ 0.5)$: eqn. 3). Based on previous results showing that the mean predator speed revolves around 3 m/s [@FraserFranco.etal2022], we applied a weakly informative Gaussian prior on the intercept for predator and prey speed ($N(3, 0.5)$: eqn. 1.1 and 2.1). Similarly, we used a weakly informative Gaussian prior on the intercept for the dispersion part ($N(0,1)$: eqn 1.2 and 2.2). For hunting success, we applied a positive Gaussian prior on the precision parameter ($N(2,\ 1)$: eqn. 3) and a negative Gaussian prior ($N(-4, 1)$: eqn 3) on the intercept because hunting success should be close to 0 at the lowest game duration. For every predicted variable, we applied a weakly informative half-Gaussian prior ($N(0,\ 1)$) on the random effects for the mean part and the dispersion part of the model. We used a regularizing $LKJ(2)$ prior on the correlation matrix.

After inspection of the results, we found that key parameter values for our hypotheses were in the direction of our predictions, but they were largely driven by the very slow speed of one predator. Removing this individual reduced the estimates by a significant margin. To remain conservative, we thus present the results of the model without this individual in the main text, and provide the results of the model including it in the Appendix S3.

### Markov Chain Monte Carlo settings

We parametrized both the GAMMs and the MDHMLM to run four MCMC chains with 1000 posterior samples for each parameter. We ran 2500 iterations with a thinning set to eight for the additive model with a global smoother only (see Table 1), and 1500 iterations with a thinning set to four for the other additive models. We set the first 500 iterations in each model as warm ups. We parametrized the MDHGLM to run 2500 iterations with a thinning set to eight, with the first 500 iterations used as warm ups. We assessed the convergence of the MCMC chains using trace plots, R-hat diagnostics with a threshold of <1.01, and effective sample sizes (ESS) with a threshold of >100 [@Vehtari.etal2021a]. We also performed posterior predictive checks which showed an adequate fit of the models (for details, see https://github.com/quantitative-ecologist/experience-hunting-tactics). We report all the posterior parameter estimates using the median of the posterior distribution with the highest posterior density (HPD) intervals at 50%, 80%, and 95%.




# RESULTS {.unnumbered}

## Effect of experience on hunting success

```{r}

# Open percentages table
path <- file.path(here::here("outputs", "03_outputs_model-processing"))
percent_tab1 <- data.table(readRDS(file.path(path, "GAMM_percentages.rds")))
percent_tab2 <- data.table(readRDS(file.path(path, "DHMLM_percentages.rds")))
```


Out of all five GAMM models, the two that best predicted the data, with very similar expected log pointwise densities (elpd), were the models accounting for the prey group's speed (Table 1). Predators differed substantially in the relationship between hunting success and cumulative experience (i.e. expertise: Figure 1A-B). We found evidence that these differences were in part mediated by prey speed because individuals had distinct patterns after we controlled for the mean speed of the prey groups compared to when we did not (Figure 1A-B). For instance, many individual curves shifted upwards. Precisely, the percentage of individuals that displayed a >0.5 increase in success changed from `r toString(scales::percent(percent_tab1[2,]$percentage, accuracy = 0.1))` to `r toString(scales::percent(percent_tab1[5,]$percentage, accuracy = 0.1))` after we accounted for prey speed (Appendix S1: Figure S1A). In this model (i.e. Figure 1B-C), `r toString(scales::percent(percent_tab1[4,]$percentage, accuracy = 0.1))` of the population showed a >0.5 decrease in success (Appendix S1: Figure S1B), and the remaining `r toString(scales::percent(percent_tab1[6,]$percentage, accuracy = 0.1))` displayed little to no change (between -0.5 and 0.5) in success across experience (Appendix S1: Figure S1C).

Moreover, all models where we did not account for prey speed had a global trend of predator experience that was nearly flat (results not shown). Yet, we see that there is an increase up to 13% in the probability of consuming all prey with experience in the population when we account for prey speed (Figure 1C).


## Effect of experience on behavioural specialization and hunting success

The mean speed of the predator population did not change with experience (i.e. intercept (mean) of predator speed; Figure 2 and Appendix S1: Table S1). There was also strong evidence that foraging specialization in the population remained stable across experience levels (i.e. intercept (sigma) of predator speed; Figure 2 and Appendix S1: Table S1). We did not find evidence that the predator population had a change in mean success with experience (intercept (mean) of hunting success; Figure 2 and Appendix S1: Table S1). There was, however, a decrease in among individual differences in success at the intermediate stage, which was maintained at the advanced stage (predator ID (mean) of hunting success; Figure 2 and Appendix S1: Table S2).

Individual predators differed slightly in their average movement speed across experience levels (i.e. predator ID (mean); Figure 2 and Appendix S1: Table S2). However, there was strong evidence that they displayed differences in foraging specialization, with a 0.1 unit increase in standard deviation from novice to advanced, indicating that differences increased slightly (i.e. predator ID (sigma) is higher at the advanced level; Figure 2 and Appendix S1: Table S2). Moreover, some individual predators switched from a flexible to a specialized hunting tactic, and vice-versa, as they gained experience (Figure 3). Importantly, `r toString(scales::percent(percent_tab2[1,]$percentage, accuracy = 1))` of the predator population displayed a large change in foraging specialization/flexibility with experience (i.e. >0.2 change in standard deviation), `r toString(scales::percent(percent_tab2[2,]$percentage, accuracy = 1))` displayed lower changes (i.e. >0.05 and <0.2 change in standard deviation), while `r toString(scales::percent(percent_tab2[3,]$percentage, accuracy = 1))`remained relatively stable (i.e. <0.05 change in standard deviation).

Contrary to predictions, there was strong evidence that predators did not differ in the speed of the prey groups that they encountered on average across experience (i.e. predator ID (mean); Figure 2 and Appendix S1: Table S2). However, individuals differed in the heterogeneity of the groups of prey encountered across the study period (i.e. predator ID (sigma); Appendix S1: Table S2). Hence, some predators encountered prey groups with similar average speeds, while others encountered prey groups with varying average speeds throughout the study period. The differences in the prey encountered among predators increased only slightly with experience (i.e. predator ID (sigma); Figure 2).


## Relationship between behavioural specialization and prey behaviour

Predators that were on average faster (mean speed) had a lower intra-individual variability (IIV speed) (Figure 4A-B and Appendix S4: Table S1). Thus, faster predators specialized on fast movement, while slower predators were more flexible in their movement through time. As predators gained experience, these strategies were increasingly defined as there was a 0.16 unit increase in the correlation at the advanced stage (Figure 4C). Predators that were on average faster (mean speed) also encountered groups of prey that were on average faster (mean prey speed) and more similar (IIV prey speed) (Figure 4A-B and Appendix S4: Table S1). There was however only weak to no evidence that these correlations increased with experience (Figure 4C)

There was almost no correlation between mean prey speed and IIV in predator speed when predators were novice (Figure 4A). There was however a 0.17 unit increase in this correlation at the advanced stage, such that advanced hunters that encountered faster prey tended to be more specialized (Figure 4C). The predator IIV in speed and IIV in prey speed were moderately positively correlated (Figure 4A-B and Appendix S4: Table S1). Hence, predators that encountered groups of prey with similar speeds were more specialized in their tactic while those that encountered groups of prey with varying speeds were more flexible. We did not however find evidence that this correlation increased with experience (Figure 4C).


## Hunting success of behavioural specialists vs generalists

The predator's mean speed and IIV were only weakly negatively correlated with hunting success across experience (Figure 4 and Appendix S4: Table S1), suggesting that slower/flexible and faster/specialist predators were both equally successful. This is further supported in the scatterplot showing no apparent relationship between success and IIV in speed (Appendix S1: Figure S2). However, there was strong evidence that individuals who encountered groups of prey with faster speeds were less successful (Figure 4A-B and Appendix S4: Table S1). Predators also had greater success across the study when encountering more variable groups of prey (Figure 4A-B and Appendix S4: Table S1). Both relationships remained structurally stable across experience (Figure 4-C)




# DISCUSSION

Learning from experience is predicted to increase foraging specialization when predators encounter prey behaving predictably through time [@Estes.etal2003;@Tinker.etal2008;@Tinker.etal2009]. However, if predators encounter prey behaving unpredictably through time, then learning should increase behavioural flexibility [@Stephens1993;@Ishii.Shimada2010;@Mery.Burns2010;@Snell-Rood2013;@Wright.etal2022]. Our results show that predators substantially increased their hunting success with experience. While there was no directional increase in either behavioural specialization or flexibility with experience at the population level, we found that individual predators developed their own expertise and behavioural trajectories over successive encounters with the prey. This was characterized by a continuum of hunting styles ranging from a slower and flexible strategy to a highly specialized fast-paced strategy. 

*parler directement du succès des tactiques ici?*

*ici parler de la covariance qui suggère un ajustement par les deux. Peut être dire que c'était fortement corrélé, mais que ça changeait pas tant avec l'expérience*
Specialized cursorial hunters encountered similar groups of prey while slower and flexible hunters encountered varying groups of prey, with both achieving similar success over the study period. 

*ici, changer la phrase pour parler que l"interaction a changé, comme ça c'est aveugle au feedback*
With experience, predators increasingly matched their foraging specialization to the speed of the prey that they encountered, 

but they did not achieve greater success, probably because the prey were also matching their speed to the predator. Our observations suggest that predators in *DBD* learn to adjust their foraging specialization, not to the variance, but to the mean behaviour of the prey that they encounter throughout their lifetime in the game.


## The development of expertise with hunting experience

Empirical research shows that task proficiency often increases nonlinearly with experience and stabilizes at an expert level [reviewed in @Dukas2019]. Our analyses revealed a similar trend, with a 13% population increase in success when predators became advanced hunters. However, because the game pairs players with similar skill, the increase in expertise could have potentially been greater if predators and prey were paired randomly. Individual predators in *DBD* also displayed distinct patterns of expertise acquisition. We predicted that this would occur if, by chance, predators differed in the prey that they encountered, because some may be easier and others more difficult to capture. In nature, prey can use a variety of defenses such as physical armaments, toxins, camouflage, or antipredator behaviours to escape predation [@BrodieIII.BrodieJr.1999;@Bowen.etal2002;@brodieCoEvolutionPredatorsPrey2010;@Nomura.etal2011;@Carey.Wahl2011]. In *DBD* we previously showed that faster movement is an effective strategy used by the prey to avoid predation [@FraserFranco.etal2022], and other studies have found that as well [@Walker.etal2005;@Kelley.Magurran2011;@Martin.etal2022]. Our results confirm that prey speed influenced expertise acquisition at the individual level to some extent. This is not surprising because capturing faster prey requires costly and specialized cognitive abilities and coordination [@Kelley.Magurran2011]. 

However, there were still important differences in expertise acquisition, which suggests that other antipredator tactics may also be involved. For example, a well known antipredator tactic associated with speed that confuses human and non-human predators during the attack sequence is unpredictable escapes [@Jones.etal2011;@Herbert-Read.etal2017;@Moore.etal2017;@Richardson.etal2018]. This tactic compromises the predator's ability to anticipate prey escape routes, but they can adjust to it by using slower approaches before attacking [@Szopa-Comley.Ioannou2022]. Yet, because unpredictability exploits the predator's cognition, slow learners could struggle to optimize their success if they often encounter prey using this tactic which is also extensively used in *DBD* (personal observation). 

Alternatively, it is possible that individual variation in learning rates due to time delays between hunting events drove the observed differences in expertise acquisition. For example, in *DBD*, a predator that played 300 matches in the span of six months might forget more critical information (e.g. prey escape patterns or muscle memory) than one that played 300 matches in the span of 6 days. While this has not been formally tested, a greater delay between exposure events is hypothesized to attenuate or even negate the relationship between success and experience [@Endler1991;@Wright.etal2022]. Moreover, the predators could have differed in their ability to detect prey. For instance, nonhuman predators can learn visual cues such as coloration to recognize and avoid unpalatable prey [@Skelhorn.etal2016;@Ward-Fear.etal2020;@McLellan.etal2021], or habitat characteristics to locate food patches [@Ehlinger1989;@Hughes.etal1992;@Warburton2003]. @Szopa-Comley.etal2020 also found consistent among individual variation in the capacity to detect cryptic and conspicuous prey in three-spined sticklebacks (*Gasterosteus aculeatus*). Thus, predators could differ in their expertise if they do not learn equally how to exploit the visual cues that facilitate prey detection.


## Changes in individual hunting specialization with experience and consequences for predator-prey interactions

There were only weak differences among predators in tactic use (i.e. mean speed), but differences in specialization were important and related to how different were the groups of prey that they encountered. Predators that encountered groups of prey with similar speeds across matches specialized in hunting at high speeds, while those that encountered varying groups of prey adopted a slower and flexible strategy. Fast-paced hunting is indeed a highly specialized tactic suited for prey that use rapid escapes [@Endler1991;@Bro-Jorgensen2013;@Wilson.etal2018], while a slower and flexible tactic can be useful to minimize the consequences of uncertainty when hunting prey that use unpredictable escapes [@Szopa-Comley.Ioannou2022]. However, it remains uncertain whether this phenotypic matching enables predators with different degrees of specialization to achieve equal success within populations [@Woo.etal2008]. Here, we found that all hunters along the flexible-specialist continuum achieved similar success throughout the study period (Appendix S1: Figure S2). Thus, our results provide direct evidence that predators matching their tactic to their prey may be key in maintaining behavioural diversification in predator-prey systems.

Surprisingly, the effect of experience on foraging behaviour was much more subtle than we expected. For instance, the predator population maintained their speed and degree of specialization throughout the study period, and individual differences in mean speed did not change with experience. However, differences among predators in foraging specialisation did increase slightly with experience, with some individuals becoming increasingly flexible. Interestingly, the behavioural response (i.e. specialization) to experience by individual predators differed. For instance, 44% of the population did not alter their degree of specialization with experience (i.e. remaining either faster and more specialized, or slower and more flexible), while 56% of the population displayed a switch from a specialized to a flexible tactic or vice-versa with experience. These changes were accompanied by predators increasingly matching their specialization to the mean speed of the prey groups across experience, instead of the variability between encounters. This suggests that it may be easier for predators to specialize on their prey by relying on mean cues (i.e. mean behaviour) instead of relying solely on resource heterogeneity [@Weimerskirch.etal2005;@Weimerskirch2007;@Woo.etal2008;@Phillips.etal2017].

It is likely that predators were also driving changes in prey behaviour because most predator-prey behavioural relationships remained stable even though half of the population switched from a specialist to a flexible strategy and vice-versa across experience. This implies that the prey were probably also learning how to avoid predation through repeated interactions. Our results concord with what @Mougi.etal2011 define as a matching response relationship, because faster-specialist and slower-flexible hunters preyed upon different prey, but they both achieved equal success. These types of reciprocal responses to interactions have been observed in other predator-prey systems [@Kishida.etal2006;@Kishida.etal2009;@Edgell.Rochette2009a;@McGhee.etal2013a], but their broader consequences remain unclear. Assuming that prey also learned during the interaction, which has been shown across many taxa [refs], we can deduce that learning from reciprocal interactions may contribute in stabilizing predator-prey systems, similar to Red Queen dynamics [@brockhurst2014].

While experience did not alter most of the interaction, predators still managed to increase foraging specialization with increasing prey speed across experience, while individual differences in hunting success simultaneously decreased. When prey express defensive phenotypes such as high speeds, selection on predators should be strong because of the consequences of repeated failures. If predators improve their exploitative ability, then the consequences of hunting these prey should decrease [@BrodieIII.BrodieJr.1999]. Similarly, theoretical studies predict that learning may attenuate selection [@Anderson1995;@Ancel1999;@Borenstein.etal2006;@Paenke.etal2007], but failing to account for reciprocal interactions may mask more complex outcomes. Here, learning appears to have reduced differences in success among predators, but success remained lower when predators hunted faster prey. Again, if prey learned how to avoid the predators, then this would explain why advanced hunters still struggled to achieve similar success against faster prey compared to slower prey. Thus, disentanling the consequences of learning from reciprocal interactions may reveal important insights on predator-prey interactions. 


## Conclusions

Trait-mediated interactions that affect prey capture are the most important processes driving predator-prey dynamics [@abramsEvolutionPredatorPreyInteractions2000]. While most studies assume that predators maximize success by matching their tactic to their prey [@abramsEvolutionPredatorPreyInteractions2000], it has remained largely unknown whether this results from predators learning how to hunt their prey, in part because of the challenges of investigating direct interactions in the wild. By capitalizing on a virtual predator-prey system where interactions were directly monitored, we found that individual predators displayed large differences in the development of their expertise. With experience, the population became increasingly distinct along a flexible-specialist continuum, while interactions remained largely stable. Overall, all hunters achieved similar hunting success. Our results have potential applications for predator-prey models of trait-matching. For instance, simulation studies could incorporate individual variation in experience or learning to better predict under which ecological/evolutionary contexts specialization should be favoured over flexibility. Lastly, virtual systems are increasingly recognized among ecologists as being useful to test hypotheses on consumer-resource interactions [@Barbe.etal2020;@Beauchamp2020;@Cere.etal2021;@FraserFranco.etal2022], but also in other fields such as citizen science and conservation [@Sandbrook.etal2015;@Redpath.etal2018;@Duthie.etal2021]. We therefore hope that our study will inspire more collaborations between scientists and the videogame industry to tackle fundamental questions in ecology.



# ACKNOWLEDGEMENTS

We warmly thank Behaviour Interactive Inc. for our collaboration which helps in advancing predator-prey science. We thank Julien Céré who managed the communication between us and the company, and Marine Dupuy who helped us prepare the data used in this study. We thank Alastair J. Wilson for insightful comments on the results. We also thank all members of Pierre-Olivier Montiglio's laboratory who provided useful feedback on earlier versions on this work. This work was supported by an NSERC postgraduate doctoral scholarship (569716-2022).




# CONFLICT OF INTEREST STATEMENT

The authors declare no conflict of interest




# REFERENCES {.unnumbered}

<div id="refs"></div>

\newpage




# TABLES

```{r table1, ft.align = "left"}

# ===========================================================================
# 1. Import the model fit
# ===========================================================================

# Open the loo table
path <- file.path(here::here("outputs", "02_outputs_model-validation"))
loo_tab <- data.table(readRDS(file.path(path, "GAMM_loo-cv-table.rds")))

# Add model column
loo_tab[
  , model := c(
    "predator xp + ID smoothers + prey rank + prey speed",
    "ID smoothers + prey rank + prey speed",
    "ID smoothers + prey rank",
    "predator xp + ID smoothers + prey rank",
    "predator xp + prey rank"
    )
 ]

# Reorder columns
loo_tab <- loo_tab[, c(9, 1:8)]

# ===========================================================================
# ===========================================================================





# ===========================================================================
# 2. Compute the table using flextable
# ===========================================================================

# Prepare the table parameters ----------------------------------------------

# Custom header
my_header <- data.frame(
   col_keys = c("model",
                "elpd_diff",
                "se_diff",
                "elpd_loo",
                "se_elpd_loo"),
   line1 = c("model",
             "elpd \ndifference",
             "sd \ndifference",
             "elpd loo \nvalue",
             "elpd loo \nstandard error"),
   stringsAsFactors = FALSE
)

# Custom theme
my_theme <- function(x, ...) {
   x <- colformat_double(x, big.mark = " ",
                         decimal.mark = ".",
                         digits = 2)
   x <- set_table_properties(x, layout = "autofit")
   x <- border_remove(x)
   std_border <- fp_border(width = 1, color = "black")
   x <- hline_top(x, part = "all", border = std_border)
   x <- hline_bottom(x, part = "all", border = std_border)
}



# Create the table ----------------------------------------------------------

tab1 <- loo_tab %>%
  select(model, elpd_diff, se_diff, elpd_loo, se_elpd_loo) %>%
  flextable(col_keys = my_header$col_keys) %>%
  set_header_df(mapping = my_header, key = "col_keys") %>%
  my_theme() %>%
  align(align = "left", part = "all", j = 1) %>%
  align(align = "center", part = "all", j = 2) %>%
  align(align = "center", part = "all", j = 3) %>%
  align(align = "center", part = "all", j = 4) %>%
  align(align = "center", part = "all", j = 5) %>%
  footnote(
    i = 1, j = 1,
    part = "header",
    value = as_paragraph(
      as_sup("a "),
      "'elpd' refers to the expected log pointwise density and is the value chosen to select the best model.",
      as_sup("\nb "),
      "'xp' is an acronym for experience"),
    ref_symbols = " "
  ) %>%

  # Table caption
  set_caption(
    caption = "Table 1. Leave-one-out cross-validation table of the five GAMMs relating hunting success to predator experience.",
    style = "Table Caption"
  ) %>%

  # Font options
  font(fontname = "Times New Roman", part = "all") %>%
  fontsize(size = 10, part = "all") %>%
  fontsize(size = 12, part = "footer")

tab1
# ===========================================================================
# ===========================================================================

```

\newpage



# FIGURE CAPTIONS

**Figure 1.** Median posterior predictions of the development of predator hunting expertise. The predators' hunting success (i.e. the probability of consuming the four prey) is on the y axis, and the predators' cumulative experience (i.e. the number of matches played prior to each observation) is on the x axis. Panels A and C show among individual differences in the development of expertise, while panels B and D show the development of expertise for the average individual. (A-B) GAMM where we control for the average prey rank (C-D) GAMM where we control for the average prey rank and the average speed of the prey group.

**Figure 2.** Median posterior differences and HPD intervals comparing the parameter values predicted by the MDHGLM among all predator experience levels. The parameter being compared is on the y axis, and the difference in parameter values between two experience levels is on the x axis. The pairwise comparisons between experience levels are displayed across the three panels A, B, and C. The population mean corresponds to the population's mean speed, mean speed of the prey encountered, and mean success. The population variation corresponds to the population's foraging specialization and variation in speed of the prey encountered. The individual variation in means corresponds to individual differences in mean speed, while individual variation in IIV indicates individual differences in foraging specialization and in the variation of the groups of prey encountered.

**Figure 3.** Individual behavioural distribution of the predators' speed drawn from the MDHGLM estimates for individuals that had (A) the greatest increase in specialization and (B) the greatest increase in flexibility. The background (gray) distributions are for when individuals were novice hunters, and the foreground (blue) distributions with solid contour lines are for when they were advanced hunters. Both figure panels are ordered by ascending degree of increase in either specialization or flexibility. We built the figure by first subtracting the estimated standard deviation of all individuals as novices with their standard deviation as advanced hunters, and then selected those with the greatest difference using the 25% and 75% quantiles. Individuals on panel A have an increase in specialization equal or greater than 0.2 standard deviations, while those on panel B have an increase in flexibility equal or greater than 0.2 standard deviations.

**Figure 4.** Correlation matrices of the MDHGLM relating the mean and IIV in speed of the predators, the mean and IIV in speed of the prey they encountered, and mean hunting success. Larger dark blue circles indicate stronger positive correlations (positive values on the colour legend), while larger dark red circles indicate stronger negative correlations (negative values on the colour legend). A) Correlations when predators were novice hunters. B) Correlations when predators were advanced hunters. C) Posterior median differences and HPD intervals comparing the trait correlations predicted by the MDHGLM between the advanced and novice levels. The difference is displayed on the y axis and the correlated traits being compared are displayed on the x axis.Positive values indicate an increase in correlation strength from novice to the advanced stage, while negative values indicate stronger correlations when predators were novice.

\newpage




# FIGURES

```{r fig1, out.width = "100%", fig.cap = "**Figure 1**"}

knitr::include_graphics(
  here::here("outputs", "04_outputs_figures", "figure1.png")
)

```

\newpage

```{r fig2, out.width = "100%", fig.cap = "**Figure 2**"}

knitr::include_graphics(
  here::here("outputs", "04_outputs_figures", "figure2.png")
)

```

\newpage

```{r fig3, out.width = "100%", fig.cap = "**Figure 3**"}

knitr::include_graphics(
  here::here("outputs", "04_outputs_figures", "figure3.png")
)

```

\newpage

```{r fig4, out.width = "100%", fig.cap = "**Figure 4**"}

knitr::include_graphics(
  here::here("outputs", "04_outputs_figures", "figure4.png")
)

```